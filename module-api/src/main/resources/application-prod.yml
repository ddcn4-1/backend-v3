server:  
  port: ${SERVER_PORT:8080}  
  error:  
    include-message: always  
    include-binding-errors: always  
    include-stacktrace: on_param  
  
spring:  
  profiles:  
    active: ${SPRING_PROFILES_ACTIVE:local}  
  
  docker:  
    compose:  
      enabled: ${SPRING_DOCKER_COMPOSE_ENABLED:false}  
  
  datasource:  
    url: ${DB_URL:jdbc:postgresql://localhost:5432/ticket}  
    username: ${DB_USERNAME:ticket}  
    password: ${DB_PASSWORD}  
    driver-class-name: org.postgresql.Driver  
    hikari:  
      connection-timeout: ${DB_CONN_TIMEOUT_MS:20000}  
      maximum-pool-size: ${DB_MAX_POOL_SIZE:10}  
  
  jpa:  
    open-in-view: false  
    hibernate:  
      ddl-auto: ${JPA_DDL_AUTO:update}  
    properties:  
      hibernate:  
        dialect: org.hibernate.dialect.PostgreSQLDialect  
        format_sql: ${HIBERNATE_FORMAT_SQL:true}  
        show_sql: ${HIBERNATE_SHOW_SQL:false}  
    defer-datasource-initialization: ${DEFER_DS_INIT:true}  
  
  sql:  
    init:  
      mode: ${SQL_INIT_MODE:never}  
  
  cloud:  
    compatibility-verifier:  
      enabled: false  
    aws:  
      # 권장: 인스턴스 프로파일/컨테이너 역할 사용. access/secret는 제거 권장  
      credentials:  
        access-key: ${AWS_ACCESS_KEY_ID}  
        secret-key: ${AWS_SECRET_ACCESS_KEY}  
      s3:  
        bucket: ${S3_BUCKET:ddcn41v1-image}  
      region:  
        static: ${AWS_REGION:ap-northeast-2}  
  
  data:  
    redis:  
      host: ${REDIS_HOST:localhost}  
      port: ${REDIS_PORT:6379}  
      timeout: ${REDIS_TIMEOUT:2000ms}  
  
management:  
  endpoints:  
    web:  
      exposure:  
        include: ${MGMT_EXPOSE:health,info,auditevents}  
  
feign:  
  client:  
    config:  
      default:  
        connectTimeout: 5000  
        readTimeout: 5000  
        loggerLevel: basic  
  
logging:  
  level:  
    org.springframework.security: ${LOG_LEVEL_SPRING_SECURITY:INFO}
  
jwt:  
  enabled: true  
  cookie-name: id_token  
  jwks-cache-duration: 300000  # 5분  
  
  cognito:  
    region: ap-northeast-2  
    user-pool-id: ${COGNITO_USER_POOL_ID}  
    client-id: ${COGNITO_CLIENT_ID}  
    validate-issuer: true  
    validate-audience: true  
    validate-token-use: true  
  
  blacklist:  
    enabled: true  
    redis:  
      host: ${REDIS_HOST:localhost}  
      port: ${REDIS_PORT:6379}  
      database: ${REDIS_DATABASE:0}  
      password: ${REDIS_PASSWORD:}  
      key-prefix: "jwt:blacklist:"  
      connection-timeout: 2000  
      command-timeout: 1000  
  
  
use:  
  legacy:  
    auth: false  
  
seatlock:  
  mode: ${SEATLOCK_MODE:redis}  
  ttl-seconds: ${SEATLOCK_TTL_SECONDS:600}  
  extend-seconds: ${SEATLOCK_EXTEND_SECONDS:120}  
  
springdoc:  
  api-docs:  
    enabled: ${SPRINGDOC_API_DOCS_ENABLED:true}  
    path: ${SPRINGDOC_API_DOCS_PATH:/v3/api-docs}  
  swagger-ui:  
    enabled: ${SPRINGDOC_SWAGGER_ENABLED:true}  
  packages-to-scan: ${SPRINGDOC_PACKAGES:org.ddcn41.ticketing_system}  
  paths-to-match: ${SPRINGDOC_PATHS:/**}  
  
auth:  
  cognito:  
    user-pool-id: ${COGNITO_USER_POOL_ID}  
    client-id: ${COGNITO_CLIENT_ID}  
    region: ${COGNITO_REGION:ap-northeast-2}  
    enabled: ${COGNITO_ENABLED:true}  
  
queue:  
  service:  
    url: ${QUEUE_SERVICE_URL}